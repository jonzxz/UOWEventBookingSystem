{% extends "base.html" %}

{% block content %}
<div class="container main-container" style="margin-top: 70px;">
	<!-- search bar -->
	<div class="row search-row mb-4">
		<div class="col search-col"
			<div class="row align-items-center justify-content-center">
				<form class="form-inline" method="post">
					<div class="form-group">
					  {{ form.search_field(class="form-control search-bar", style="width: 400px; height: 45px; text-align: center;", placeholder="Search") }}
					</div>
					<div class="form-group ml-3">
						{{ form.search_type(class_="btn btn-primary dropdown-toggle", style="width: 100px; height: 45px;") }}
					</div>
					<div class="form-group ml-3">
						<!-- text in the button = try line-height -->
						{{ form.submit_search(class="btn search-btn btn-primary", style="width: 100px; height: 45px;") }}
					</div>
				</form><br>

				<!-- flashed messages -->
				<div>
					{% with messages = get_flashed_messages() %}
				  	{% if messages %}
						{% for message in messages %}
				  		<span class="center" style="color: red;">{{ message }}</span>
					  	{% endfor %}
				  	{% endif %}
				  	{% endwith %}
				</div>

				<!-- Script to handle changing of search type -->
			  	<script>
				  	let type_select = document.getElementById("search_type")
				  	type_select.onchange = function() {
						var origin = window.location.origin;
						var route = origin + "/event/" + type_select.value;
						window.location.href = route;
					}
				</script>
			</div>
		</div>
	</div><br>

	<!-- display event posters -->
	<div class="row main-row">
	{% for event in event_list %}
		<div class="col-4" style="float: left;">
			<div class="event-container">
				<div class="image-row">
					<div class="col-auto m-auto">
						<img src="/static/images/python.jpg", style='height: 100%; width: 100%; object-fit: contain'>
					</div>
				</div>
				<div class="event-name-row">
					<div class="col">
						<p> {{ event['title'] }} </p>
					</div>
				</div>
			</div>
		</div>
	{% endfor %}
	</div>

	<!-- 'GO BACK' button
	<div class="row main-row">
		<div class="col-12" style="float: left;">
			<a href="/" class="btn btn-secondary" role="button">Go Back</a>
		</div>
	</div> -->
</div>
{% endblock %}
