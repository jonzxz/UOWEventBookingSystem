{% extends "base.html" %}

{% block content %}
<div class="container main-container" style="margin-top: 70px;">
	<div class="row main-row mb-3">
		<div class="col-4">
			<div class="container">
				<div class="row mb-3">
					<div class="col-auto m-auto">
						{% set path = '/static/images/' ~ event.img_root ~ '.jpg' %}
						<img src='{{ path }}' style='height: 100%; width: 100%; object-fit: contain'>
					</div>
				</div>
				<div class="row book-button">
					<div class="col center">
						<a href="/search" class="btn btn-secondary" role="button">â—„ Back</a>
						{% if not is_admin %}
						<a href="{{url_for('booking', eid=event.event_id)}}" class="btn btn-primary" style="width:60%;">Book</a>
						{% endif %}
					</div>
				</div>
			</div>
		</div>
		<div class="col-8">
			<div class="container event-desc-container">
				<div class="row event-title pb-1">
					<div class="col-lg-2 col-md-3 label">
						<label class="details-label">Event Title: </label>
					</div>
					<div class="col-lg-8 col-md-8 title">
						{{ event.title }}
					</div>
				</div>
				<div class="row event-duration-row pb-1">
					<div class="col-lg-2 col-md-3 label">
						<label class="details-label">Duration: </label>
					</div>
					<div class="col-lg-8 col-md-8 event-duration-col">
						{{ event.duration * 60}} minutes
					</div>
				</div>
				<div class="row event-location-row pb-1">
					<div class="col-lg-2 col-md-3 label">
						<label class="details-label">Venue: </label>
					</div>
					<div class="col-lg-8 col-md-8 event-location-col">
						{{ event.venue }}
					</div>
				</div>
				<div class="row event-price-row pb-1">
					<div class="col-lg-2 col-md-3 label">
						<label class="details-label">Price: </label>
					</div>
					<div class="col-lg-8 col-md-8 event-price-col">
						{{ event.price }}
					</div>
				</div>
				<div class="row event-desc-row align-items-start pb-1">
					<div class="col-lg-2 col-md-3 label">
						<label class="details-label">Description: </label>
					</div>
					<div class="col-lg-8 col-md-8 event-desc-col">
						{{ event.desc }}
					</div>
				</div>
				<div class="row event-date-time-label">
					<div class="col-2 label">
						<label class="details-label">Date/Time: </label>
					</div>
				</div>
				<div class="row event-datetime-row pb-1">
					<div class="col event-datetime-col">
						<div class="overflow-auto" style="max-width: 300px; max-height: 341px;padding-top: 2%;">
							{% for date in event.timings %}
							<div>
							<div style="margin-bottom: 5px;">
							<span class="details-date">{{ date }}</span>
							</div>
							<div style="margin-bottom: 10px;">
							{% for timeslot in event.timings[date] %}
								<!-- timeslot[0] == time
									 timeslot[1] == seats remaining for that time -->
								{{ timeslot[0] }}
								{% if timeslot[1] == 0 %}
								<span style="color: red;">(F)</span>
								{% endif %}
								&nbsp
							{% endfor %}
							</div>
							</div>
							{% endfor %}
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}
